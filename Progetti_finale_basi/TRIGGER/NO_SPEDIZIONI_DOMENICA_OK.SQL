CREATE OR REPLACE TRIGGER SPED_FORN
BEFORE INSERT ON FORNITURA
FOR EACH ROW 
DECLARE
NSPEDIZIONI EXCEPTION;
FE VARCHAR(20);

BEGIN

IF TO_CHAR(:NEW.DATA_FOR,'D')=7
THEN RAISE NSPEDIZIONI; 
END IF;
EXCEPTION
WHEN NSPEDIZIONI THEN
RAISE_APPLICATION_ERROR(-20009,'LA FORNITURA NON PUO ESSERE SPEDITA ');
END;
/