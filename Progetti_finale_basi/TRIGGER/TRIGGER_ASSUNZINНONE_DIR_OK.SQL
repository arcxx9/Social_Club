-- CONTROLLO ASSUNZIONE DIRETTORE
DROP TRIGGER ASSUNZIONE_DIRETTORE;
CREATE OR REPLACE TRIGGER ASSUNZIONE_DIRETTORE
BEFORE INSERT ON DIRETTORE
FOR EACH ROW
DECLARE
TS VARCHAR(30);
ERROR_DIR EXCEPTION;
BEGIN
TS:=:NEW.TITOLO_STUDIO;
IF (TS<>'INGEGNERE INFORMATICO' AND TS<>'INGEGNERE GESTIONALE' AND TS<>'INGENGERE EDILE' AND TS<>'INGEGNERE CHIMICO' AND TS<>'INGEGNERE BIOMEDICO') THEN
RAISE ERROR_DIR;
END IF;
EXCEPTION
WHEN ERROR_DIR THEN
RAISE_APPLICATION_ERROR (-20010,'OCCORRE CHE IL DIRETTORE ABBIA UNA DELLE SEGUENTI LAUREE: INGEGNERE INFORMATICO;  INGEGNERE GESTIONALE;  INGENGERE EDILE;  INGEGNERE CHIMICO;  INGEGNERE BIOMEDICO;');
END;
/